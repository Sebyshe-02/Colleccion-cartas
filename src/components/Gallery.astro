---
import { v2 as cloudinary } from "cloudinary";
import { getCollection } from "astro:content";
export const prerender = false

cloudinary.config({
  cloud_name: import.meta.env.PUBLIC_CLOUDINARY_CLOUD_NAME,
  api_key: import.meta.env.CLOUDINARY_API_KEY,
  api_secret: import.meta.env.CLOUDINARY_API_SECRET
});

const assets = await getCollection("assets");
console.log('assets', assets);
---

<div class="gallery">
    {assets.map(asset =>{
        return (
            <img src={asset.data.secure_url}/>
        )
    })}
</div>

<style>
    .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 16px;
        width: 100%;
        padding: 20px;
    }

    .gallery img {
        width: 100%;
        height: auto;
        object-fit: cover;
        border-radius: 8px;
        transition: transform 0.3s ease; 
    }

    .gallery img:hover {
        transform: scale(1.05); 
    }

</style>
